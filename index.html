<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MLOps Ultimate Cheatsheet</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #050505;
            --card-bg: #0b1015;
            --text-main: #c0c0c0;
            --neon-blue: #00f3ff;
            --neon-pink: #ff00ff;
            --neon-green: #39ff14;
            --neon-yellow: #fcee0a;
            --neon-red: #ff2a2a;
            --border-dim: #333;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Roboto Mono', monospace;
            overflow-x: hidden;
            background-image: 
                linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
            background-size: 30px 30px;
            padding-bottom: 50px;
        }

        /* --- Header --- */
        header {
            text-align: center;
            padding: 40px 20px;
            border-bottom: 1px solid var(--neon-blue);
            background: rgba(5, 5, 5, 0.9);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            color: var(--neon-blue);
            text-shadow: 0 0 10px var(--neon-blue);
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        /* --- Controls (Search + Filters) --- */
        .controls {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
        }

        .search-box {
            width: 100%;
            max-width: 600px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            background: #000;
            border: 1px solid var(--neon-green);
            color: var(--neon-green);
            padding: 12px 20px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            outline: none;
            box-shadow: 0 0 5px rgba(57, 255, 20, 0.2);
        }

        .search-box input:focus {
            box-shadow: 0 0 15px rgba(57, 255, 20, 0.5);
        }

        .filters {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }

        .filter-btn {
            background: transparent;
            border: 1px solid var(--neon-pink);
            color: var(--neon-pink);
            padding: 8px 16px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
        }

        .filter-btn:hover, .filter-btn.active {
            background: var(--neon-pink);
            color: #000;
            box-shadow: 0 0 15px var(--neon-pink);
        }

        /* --- Grid --- */
        .grid-container {
            max-width: 1600px;
            margin: 30px auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(450px, 1fr));
            gap: 25px;
        }

        /* --- Card --- */
        .card {
            background: var(--card-bg);
            border: 1px solid var(--border-dim);
            border-top: 3px solid var(--neon-blue);
            height: 600px; /* Fixed height for consistency */
            display: flex; /* Flex required for scroll internal */
            flex-direction: column;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s;
        }

        .card:hover {
            border-color: var(--neon-blue);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.1);
            transform: translateY(-2px);
        }

        .card-header {
            padding: 15px 20px;
            background: rgba(0, 243, 255, 0.05);
            border-bottom: 1px solid var(--border-dim);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-header h3 {
            font-family: 'Orbitron', sans-serif;
            color: var(--neon-blue);
            font-size: 1.2rem;
        }

        .card-header span {
            font-size: 0.7rem;
            color: #555;
            border: 1px solid #333;
            padding: 2px 5px;
        }

        /* Custom Colors per Domain if needed */
        .card[data-category="gpu"] { border-top-color: var(--neon-green); }
        .card[data-category="gpu"] h3 { color: var(--neon-green); }
        
        .card[data-category="git"] { border-top-color: var(--neon-red); }
        .card[data-category="git"] h3 { color: var(--neon-red); }

        /* --- Scrollable List --- */
        .cmd-list {
            list-style: none;
            overflow-y: auto;
            flex-grow: 1;
            padding: 10px 20px;
        }

        /* Scrollbar styling */
        .cmd-list::-webkit-scrollbar { width: 6px; }
        .cmd-list::-webkit-scrollbar-track { background: #000; }
        .cmd-list::-webkit-scrollbar-thumb { background: #333; }
        .cmd-list:hover::-webkit-scrollbar-thumb { background: var(--neon-blue); }

        .cmd-item {
            margin-bottom: 15px;
            border-bottom: 1px dashed #222;
            padding-bottom: 10px;
        }

        .cmd-desc {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 4px;
            font-weight: bold;
        }

        .code-wrapper {
            position: relative;
            cursor: pointer;
        }

        .code-block {
            display: block;
            background: #000;
            border: 1px solid #222;
            color: var(--neon-yellow);
            padding: 8px;
            font-size: 0.85rem;
            word-break: break-all;
            transition: all 0.2s;
        }

        .code-wrapper:hover .code-block {
            border-color: var(--neon-yellow);
            background: #0a0a0a;
        }

        .code-wrapper::after {
            content: 'COPY';
            position: absolute;
            right: 0;
            top: 0;
            background: var(--neon-blue);
            color: #000;
            font-size: 0.6rem;
            padding: 2px 6px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .code-wrapper:hover::after { opacity: 1; }

        /* --- Toast Notification --- */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: var(--neon-green);
            color: black;
            text-align: center;
            padding: 16px;
            position: fixed;
            z-index: 2000;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
            box-shadow: 0 0 20px var(--neon-green);
        }
        #toast.show { visibility: visible; animation: fadein 0.5s, fadeout 0.5s 2.5s; }

        @keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
        @keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }

        /* Utility */
        .hidden { display: none !important; }

    </style>
</head>
<body>

    <header>
        <div class="controls">
            <h1>MLOPS_NEXUS_V4</h1>
            
            <div class="search-box">
                <input type="text" id="searchInput" placeholder=">> SEARCH_COMMANDS...">
            </div>

            <div class="filters">
                <button class="filter-btn active" data-filter="all">ALL</button>
                <button class="filter-btn" data-filter="bash">BASH</button>
                <button class="filter-btn" data-filter="docker">DOCKER</button>
                <button class="filter-btn" data-filter="k8s">KUBERNETES</button>
                <button class="filter-btn" data-filter="openshift">OPENSHIFT</button>
                <button class="filter-btn" data-filter="runai">RUN:AI</button>
                <button class="filter-btn" data-filter="gpu">NVIDIA GPU</button>
                <button class="filter-btn" data-filter="elastic">ELASTIC</button>
                <button class="filter-btn" data-filter="grafana">GRAFANA</button>
                <button class="filter-btn" data-filter="git">GIT</button>
            </div>
        </div>
    </header>

    <div class="grid-container" id="grid">

        <div class="card" data-category="bash">
            <div class="card-header"><h3>BASH</h3><span>SHELL</span></div>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Boucle sur fichiers</div><div class="code-wrapper"><code class="code-block">for f in *.log; do echo "Processing $f"; done</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Chercher texte (Récursif)</div><div class="code-wrapper"><code class="code-block">grep -rn "error" /var/log/</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Remplacer texte dans fichiers</div><div class="code-wrapper"><code class="code-block">sed -i 's/old/new/g' config.yaml</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Surveiller commande</div><div class="code-wrapper"><code class="code-block">watch -n 1 "kubectl get pods"</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">JSON Parsing (JQ)</div><div class="code-wrapper"><code class="code-block">cat data.json | jq '.items[].status'</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Voir taille dossiers</div><div class="code-wrapper"><code class="code-block">du -sh * | sort -hr</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Top Process par RAM</div><div class="code-wrapper"><code class="code-block">ps aux --sort=-%mem | head -10</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Historique commande + Date</div><div class="code-wrapper"><code class="code-block">export HISTTIMEFORMAT="%F %T "</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Téléchargement silencieux</div><div class="code-wrapper"><code class="code-block">curl -sO https://url.com/file.zip</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Compter lignes de code</div><div class="code-wrapper"><code class="code-block">find . -name "*.py" | xargs wc -l</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Supprimer fichiers vieux de +7j</div><div class="code-wrapper"><code class="code-block">find /logs -name "*.log" -mtime +7 -delete</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Extraire colonne (AWK)</div><div class="code-wrapper"><code class="code-block">docker ps | awk '{print $1}'</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Voir ports ouverts</div><div class="code-wrapper"><code class="code-block">netstat -tulpn</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Archiver dossier</div><div class="code-wrapper"><code class="code-block">tar -czvf archive.tar.gz ./folder</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Kill process par nom</div><div class="code-wrapper"><code class="code-block">pkill -f "python train.py"</code></div></li>
            </ul>
        </div>

        <div class="card" data-category="docker">
            <div class="card-header"><h3>DOCKER</h3><span>CONTAINER</span></div>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Build sans cache</div><div class="code-wrapper"><code class="code-block">docker build --no-cache -t img:tag .</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Run avec GPU (Tous)</div><div class="code-wrapper"><code class="code-block">docker run --gpus all -it --rm img:tag</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Nettoyage complet</div><div class="code-wrapper"><code class="code-block">docker system prune -a --volumes</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Stats Live (CPU/RAM)</div><div class="code-wrapper"><code class="code-block">docker stats</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Exec en Root</div><div class="code-wrapper"><code class="code-block">docker exec -u 0 -it [id] bash</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Logs (Tail)</div><div class="code-wrapper"><code class="code-block">docker logs -f --tail 100 [id]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Inspecter IP</div><div class="code-wrapper"><code class="code-block">docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' [id]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Copier Host vers Container</div><div class="code-wrapper"><code class="code-block">docker cp ./model.bin [id]:/app/</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Lister volumes orphelins</div><div class="code-wrapper"><code class="code-block">docker volume ls -qf dangling=true</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Export Image (Tar)</div><div class="code-wrapper"><code class="code-block">docker save -o image.tar my-image:v1</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Commit Container -> Image</div><div class="code-wrapper"><code class="code-block">docker commit [id] my-snapshot:v1</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Voir historique layers</div><div class="code-wrapper"><code class="code-block">docker history --no-trunc [image]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Restart Policy</div><div class="code-wrapper"><code class="code-block">docker run -d --restart unless-stopped img</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Login Registry</div><div class="code-wrapper"><code class="code-block">docker login registry.gitlab.com</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Kill all containers</div><div class="code-wrapper"><code class="code-block">docker rm -f $(docker ps -aq)</code></div></li>
            </ul>
        </div>

        <div class="card" data-category="k8s">
            <div class="card-header"><h3>KUBERNETES</h3><span>K8S</span></div>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Lister Pods (All NS)</div><div class="code-wrapper"><code class="code-block">kubectl get pods -A</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Debug Crash (Logs)</div><div class="code-wrapper"><code class="code-block">kubectl logs [pod] --previous</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Describe (Events)</div><div class="code-wrapper"><code class="code-block">kubectl describe pod [pod]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Shell dans Pod</div><div class="code-wrapper"><code class="code-block">kubectl exec -it [pod] -- /bin/bash</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Port Forward (Local)</div><div class="code-wrapper"><code class="code-block">kubectl port-forward svc/[name] 8080:80</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Top Nodes (CPU/RAM)</div><div class="code-wrapper"><code class="code-block">kubectl top nodes</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Supprimer Pods 'Evicted'</div><div class="code-wrapper"><code class="code-block">kubectl delete pods --field-selector=status.phase=Failed -A</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Changer Image (Rolling)</div><div class="code-wrapper"><code class="code-block">kubectl set image deployment/[name] [container]=img:v2</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Scaler manuellement</div><div class="code-wrapper"><code class="code-block">kubectl scale --replicas=3 deploy/[name]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Créer Secret (Generic)</div><div class="code-wrapper"><code class="code-block">kubectl create secret generic my-sec --from-literal=pw=123</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Check Droits (RBAC)</div><div class="code-wrapper"><code class="code-block">kubectl auth can-i create pods --as system:serviceaccount:ns:sa</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Debug Pod (Netshoot)</div><div class="code-wrapper"><code class="code-block">kubectl run tmp-shell --rm -it --image nicolaka/netshoot</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Restart Rollout</div><div class="code-wrapper"><code class="code-block">kubectl rollout restart deployment/[name]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Get YAML clean</div><div class="code-wrapper"><code class="code-block">kubectl get pod [name] -o yaml | grep -v "managedFields"</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Apply dossier</div><div class="code-wrapper"><code class="code-block">kubectl apply -f ./k8s-manifests/</code></div></li>
            </ul>
        </div>

        <div class="card" data-category="openshift">
            <div class="card-header"><h3>OPENSHIFT</h3><span>OCP</span></div>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Changer Projet</div><div class="code-wrapper"><code class="code-block">oc project my-project</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Voir Routes (URL)</div><div class="code-wrapper"><code class="code-block">oc get routes</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Status global</div><div class="code-wrapper"><code class="code-block">oc status</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Shell distant (RSH)</div><div class="code-wrapper"><code class="code-block">oc rsh [pod-name]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Logs Build</div><div class="code-wrapper"><code class="code-block">oc logs -f bc/[build-config]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Start Build</div><div class="code-wrapper"><code class="code-block">oc start-build [bc-name] --follow</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Debug Node (Admin)</div><div class="code-wrapper"><code class="code-block">oc debug node/[node-name]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Extraire Secret</div><div class="code-wrapper"><code class="code-block">oc extract secret/db-pass --to=.</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Login Token</div><div class="code-wrapper"><code class="code-block">oc login --token=sha256~... --server=...</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Lister ImageStreams</div><div class="code-wrapper"><code class="code-block">oc get is</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Donner droits Admin</div><div class="code-wrapper"><code class="code-block">oc adm policy add-role-to-user admin user1</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Idle (Pause) Service</div><div class="code-wrapper"><code class="code-block">oc idle [service]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Debug Deployment</div><div class="code-wrapper"><code class="code-block">oc debug deployment/[name]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Registry Login</div><div class="code-wrapper"><code class="code-block">docker login -u $(oc whoami) -p $(oc whoami -t) image-registry...</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Delete all in project</div><div class="code-wrapper"><code class="code-block">oc delete all --all</code></div></li>
            </ul>
        </div>

        <div class="card" data-category="gpu">
            <div class="card-header"><h3>NVIDIA GPU</h3><span>HARDWARE</span></div>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Live Monitoring</div><div class="code-wrapper"><code class="code-block">watch -n 0.5 nvidia-smi</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Liste Processus GPU</div><div class="code-wrapper"><code class="code-block">nvidia-smi pmon -s u</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Query CSV (Automation)</div><div class="code-wrapper"><code class="code-block">nvidia-smi --query-gpu=utilization.gpu,memory.used --format=csv</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Top GPU usage</div><div class="code-wrapper"><code class="code-block">nvtop</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Voir version CUDA</div><div class="code-wrapper"><code class="code-block">nvcc --version</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Reset GPU (Admin)</div><div class="code-wrapper"><code class="code-block">nvidia-smi --gpu-reset -i [gpu_id]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Persistence Mode</div><div class="code-wrapper"><code class="code-block">nvidia-smi -pm 1</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Set Power Limit</div><div class="code-wrapper"><code class="code-block">nvidia-smi -pl 250</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Lister GPU UUIDs</div><div class="code-wrapper"><code class="code-block">nvidia-smi -L</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Vérifier Container Toolkit</div><div class="code-wrapper"><code class="code-block">docker run --rm --gpus all nvidia/cuda:11.0-base nvidia-smi</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">PyTorch Check</div><div class="code-wrapper"><code class="code-block">python -c "import torch; print(torch.cuda.is_available())"</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">MIG (Multi-Instance)</div><div class="code-wrapper"><code class="code-block">nvidia-smi mig -lgip</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Dmon (Scrolling stats)</div><div class="code-wrapper"><code class="code-block">nvidia-smi dmon</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Check NVLink</div><div class="code-wrapper"><code class="code-block">nvidia-smi nvlink --status</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Kill process GPU</div><div class="code-wrapper"><code class="code-block">kill -9 [pid_from_nvidia_smi]</code></div></li>
            </ul>
        </div>

        <div class="card" data-category="runai">
            <div class="card-header"><h3>RUN:AI</h3><span>SCHEDULER</span></div>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Login</div><div class="code-wrapper"><code class="code-block">runai login</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Lister Jobs</div><div class="code-wrapper"><code class="code-block">runai list jobs</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Soumettre Job simple</div><div class="code-wrapper"><code class="code-block">runai submit my-job -i my-image -g 1</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Soumettre Interactif</div><div class="code-wrapper"><code class="code-block">runai submit int-job -i my-image -g 1 --interactive --ttl 4h</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Describe Job</div><div class="code-wrapper"><code class="code-block">runai describe job [job-name]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Logs</div><div class="code-wrapper"><code class="code-block">runai logs [job-name]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Supprimer Job</div><div class="code-wrapper"><code class="code-block">runai delete job [job-name]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Lister Projets</div><div class="code-wrapper"><code class="code-block">runai list projects</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Changer Projet Defaut</div><div class="code-wrapper"><code class="code-block">runai config project [project-name]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Attach Shell</div><div class="code-wrapper"><code class="code-block">runai exec [job-name] -it -- /bin/bash</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Fractional GPU (0.5)</div><div class="code-wrapper"><code class="code-block">runai submit split-job -g 0.5 -i my-image</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Suspendre Job</div><div class="code-wrapper"><code class="code-block">runai suspend [job-name]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Reprendre Job</div><div class="code-wrapper"><code class="code-block">runai resume [job-name]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Voir Quotas</div><div class="code-wrapper"><code class="code-block">runai quota</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Port Forward Job</div><div class="code-wrapper"><code class="code-block">kubectl port-forward svc/job-[name] 8888:8888</code></div></li>
            </ul>
        </div>

        <div class="card" data-category="elastic">
            <div class="card-header"><h3>ELASTIC</h3><span>LOGGING</span></div>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Santé Cluster</div><div class="code-wrapper"><code class="code-block">GET /_cluster/health?pretty</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Lister Indices (Compact)</div><div class="code-wrapper"><code class="code-block">GET /_cat/indices?v&s=index</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Lister Nodes</div><div class="code-wrapper"><code class="code-block">GET /_cat/nodes?v</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Recherche simple</div><div class="code-wrapper"><code class="code-block">GET /_search?q=status:500</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Recherche JSON Body</div><div class="code-wrapper"><code class="code-block">GET /idx/_search { "query": { "match": { "level": "error" }}}</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Supprimer Index</div><div class="code-wrapper"><code class="code-block">DELETE /logs-2023-*</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Voir Mapping</div><div class="code-wrapper"><code class="code-block">GET /my-index/_mapping</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Compter Documents</div><div class="code-wrapper"><code class="code-block">GET /_count</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Allocation (Pourquoi Unassigned ?)</div><div class="code-wrapper"><code class="code-block">GET /_cluster/allocation/explain</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Tâches en cours</div><div class="code-wrapper"><code class="code-block">GET /_tasks?detailed=true&actions=*write*</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Stats Index</div><div class="code-wrapper"><code class="code-block">GET /my-index/_stats</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Force Merge (Gain place)</div><div class="code-wrapper"><code class="code-block">POST /my-index/_forcemerge?max_num_segments=1</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Aliases</div><div class="code-wrapper"><code class="code-block">GET /_cat/aliases?v</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Disk Usage</div><div class="code-wrapper"><code class="code-block">GET /_cat/allocation?v</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Snapshot Status</div><div class="code-wrapper"><code class="code-block">GET /_snapshot/_status</code></div></li>
            </ul>
        </div>

        <div class="card" data-category="grafana">
            <div class="card-header"><h3>GRAFANA/PROM</h3><span>METRICS</span></div>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">CPU Rate (5min)</div><div class="code-wrapper"><code class="code-block">rate(container_cpu_usage_seconds_total[5m])</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Memory Bytes</div><div class="code-wrapper"><code class="code-block">container_memory_usage_bytes</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Network In</div><div class="code-wrapper"><code class="code-block">rate(container_network_receive_bytes_total[1m])</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Restart Count</div><div class="code-wrapper"><code class="code-block">kube_pod_container_status_restarts_total</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Top 5 CPU Consumers</div><div class="code-wrapper"><code class="code-block">topk(5, rate(container_cpu_usage_seconds_total[5m]))</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Aggreg par Pod</div><div class="code-wrapper"><code class="code-block">sum(rate(container_cpu...)) by (pod)</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Filtrer par Namespace</div><div class="code-wrapper"><code class="code-block">{namespace="production"}</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Augmentation (Increase)</div><div class="code-wrapper"><code class="code-block">increase(http_requests_total[1h])</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">99th Percentile</div><div class="code-wrapper"><code class="code-block">histogram_quantile(0.99, sum(rate(bucket[5m])) by (le))</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Pod Absent (Alert)</div><div class="code-wrapper"><code class="code-block">absent(up{job="my-app"})</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Changement valeur (Delta)</div><div class="code-wrapper"><code class="code-block">delta(gauge_metric[1h])</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Regex Match</div><div class="code-wrapper"><code class="code-block">container_memory...{pod=~"frontend-.*"}</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">GPU Util (DCGM)</div><div class="code-wrapper"><code class="code-block">DCGM_FI_DEV_GPU_UTIL</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">GPU Memory (DCGM)</div><div class="code-wrapper"><code class="code-block">DCGM_FI_DEV_FB_USED</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Opération Math</div><div class="code-wrapper"><code class="code-block">metric_a / metric_b * 100</code></div></li>
            </ul>
        </div>

        <div class="card" data-category="git">
            <div class="card-header"><h3>GIT</h3><span>VERSIONING</span></div>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Log joli graph</div><div class="code-wrapper"><code class="code-block">git log --graph --oneline --all</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Status propre</div><div class="code-wrapper"><code class="code-block">git status -sb</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Créer branche & switch</div><div class="code-wrapper"><code class="code-block">git checkout -b feature/new-algo</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Undo dernier commit (Soft)</div><div class="code-wrapper"><code class="code-block">git reset --soft HEAD~1</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Diff fichiers stagiés</div><div class="code-wrapper"><code class="code-block">git diff --cached</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Stash (Mettre de côté)</div><div class="code-wrapper"><code class="code-block">git stash save "wip model"</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Pop Stash</div><div class="code-wrapper"><code class="code-block">git stash pop</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Rebase main (Clean history)</div><div class="code-wrapper"><code class="code-block">git pull --rebase origin main</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Cherry Pick (Voler commit)</div><div class="code-wrapper"><code class="code-block">git cherry-pick [commit-hash]</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Nettoyer fichiers non suivis</div><div class="code-wrapper"><code class="code-block">git clean -fd</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Modifier dernier commit</div><div class="code-wrapper"><code class="code-block">git commit --amend --no-edit</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Voir qui a touché (Blame)</div><div class="code-wrapper"><code class="code-block">git blame file.py</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Remote URL Check</div><div class="code-wrapper"><code class="code-block">git remote -v</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Submodule Update</div><div class="code-wrapper"><code class="code-block">git submodule update --init --recursive</code></div></li>
                <li class="cmd-item"><div class="cmd-desc">Trouver bug (Bisect)</div><div class="code-wrapper"><code class="code-block">git bisect start (puis bad/good)</code></div></li>
            </ul>
        </div>

    </div>

    <div id="toast">DATA_COPIED</div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const filterBtns = document.querySelectorAll('.filter-btn');
            const cards = document.querySelectorAll('.card');
            const searchInput = document.getElementById('searchInput');
            const toast = document.getElementById('toast');

            // --- FILTER LOGIC ---
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Reset active class
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    const filterValue = btn.getAttribute('data-filter');

                    cards.forEach(card => {
                        const category = card.getAttribute('data-category');
                        if (filterValue === 'all' || category === filterValue) {
                            card.classList.remove('hidden');
                        } else {
                            card.classList.add('hidden');
                        }
                    });
                });
            });

            // --- SEARCH LOGIC ---
            searchInput.addEventListener('input', (e) => {
                const term = e.target.value.toLowerCase();
                
                cards.forEach(card => {
                    const text = card.innerText.toLowerCase();
                    // Si on cherche, on ignore le filtre de bouton actuel pour chercher partout
                    // Ou on peut combiner. Ici je cherche dans tout le contenu visible.
                    
                    if (term === '') {
                        // Si vide, réappliquer le filtre bouton actif
                        const activeFilter = document.querySelector('.filter-btn.active').getAttribute('data-filter');
                        const category = card.getAttribute('data-category');
                        if (activeFilter === 'all' || category === activeFilter) {
                            card.classList.remove('hidden');
                        } else {
                            card.classList.add('hidden');
                        }
                    } else {
                        // Recherche active
                        if (text.includes(term)) {
                            card.classList.remove('hidden');
                        } else {
                            card.classList.add('hidden');
                        }
                    }
                });
            });

            // --- COPY LOGIC ---
            const codeWrappers = document.querySelectorAll('.code-wrapper');
            codeWrappers.forEach(wrapper => {
                wrapper.addEventListener('click', () => {
                    const code = wrapper.querySelector('code').innerText;
                    navigator.clipboard.writeText(code).then(() => {
                        toast.innerText = "> COMMAND_COPIED_TO_CLIPBOARD";
                        toast.classList.add('show');
                        setTimeout(() => {
                            toast.classList.remove('show');
                        }, 2000);
                    });
                });
            });
        });
    </script>
</body>
</html>

