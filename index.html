<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MLOps Cyberpunk Cheatsheet V3 - Heavy</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #050505;
            --card-bg: #0a0f14;
            --text-main: #e0e0e0;
            --neon-blue: #00f3ff;
            --neon-pink: #ff00ff;
            --neon-green: #39ff14;
            --neon-yellow: #fcee0a;
            --neon-orange: #ff5e00;
            --border-color: #333;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Roboto Mono', monospace;
            overflow-x: hidden;
            background-image: 
                linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
            background-size: 30px 30px;
        }

        /* --- Header --- */
        header {
            text-align: center;
            padding: 40px 20px;
            border-bottom: 2px solid var(--neon-blue);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.2);
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header-top {
            width: 100%;
            display: flex;
            justify-content: center;
            position: relative;
        }

        .export-btn {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: transparent;
            border: 1px solid var(--neon-green);
            color: var(--neon-green);
            padding: 8px 15px;
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            text-transform: uppercase;
            font-size: 0.8rem;
            transition: 0.3s;
        }

        .export-btn:hover {
            background: var(--neon-green);
            color: black;
            box-shadow: 0 0 15px var(--neon-green);
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            text-transform: uppercase;
            color: var(--neon-blue);
            text-shadow: 0 0 10px var(--neon-blue);
            position: relative;
            display: inline-block;
            margin: 0;
        }

        h1::before, h1::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-color);
        }

        h1::before {
            left: 2px;
            text-shadow: -1px 0 var(--neon-pink);
            clip: rect(24px, 550px, 90px, 0);
            animation: glitch-anim-2 3s infinite linear alternate-reverse;
        }

        h1::after {
            left: -2px;
            text-shadow: -1px 0 var(--neon-green);
            clip: rect(85px, 550px, 140px, 0);
            animation: glitch-anim 2.5s infinite linear alternate-reverse;
        }

        /* --- Navigation --- */
        .filters {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            padding: 30px 20px;
        }

        .filter-btn {
            background: transparent;
            border: 1px solid var(--neon-pink);
            color: var(--neon-pink);
            padding: 10px 20px;
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            font-weight: bold;
            box-shadow: 0 0 5px var(--neon-pink);
        }

        .filter-btn:hover, .filter-btn.active {
            background: var(--neon-pink);
            color: var(--bg-color);
            box-shadow: 0 0 20px var(--neon-pink);
        }

        /* --- Grid Layout --- */
        .container {
            max-width: 1600px; /* Wider for more content */
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr)); /* Wider cards */
            gap: 30px;
        }

        /* --- Cards --- */
        .card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-left: 5px solid var(--neon-blue);
            padding: 20px;
            position: relative;
            transition: transform 0.3s, box-shadow 0.3s;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            max-height: 600px; /* Fixed height for UI consistency */
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--neon-blue), transparent);
            animation: scanline 2s linear infinite;
            z-index: 2;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.3);
            border-color: var(--neon-blue);
        }

        .card h3 {
            font-family: 'Orbitron', sans-serif;
            color: var(--neon-green);
            margin-bottom: 15px;
            font-size: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        .card h3 span {
            font-size: 0.8rem;
            color: #666;
            border: 1px solid #666;
            padding: 2px 6px;
            border-radius: 4px;
        }

        .card.python-ml { border-left-color: var(--neon-orange); }
        .card.python-ml h3 { color: var(--neon-orange); }

        /* --- Command List with SCROLLBAR --- */
        .cmd-list {
            list-style: none;
            overflow-y: auto; /* Enable scrolling */
            flex-grow: 1;
            padding-right: 10px;
        }

        /* Custom Scrollbar for Cyberpunk look */
        .cmd-list::-webkit-scrollbar {
            width: 6px;
        }
        .cmd-list::-webkit-scrollbar-track {
            background: #000;
        }
        .cmd-list::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 3px;
        }
        .card:hover .cmd-list::-webkit-scrollbar-thumb {
            background: var(--neon-blue);
        }
        .card.python-ml:hover .cmd-list::-webkit-scrollbar-thumb {
            background: var(--neon-orange);
        }

        .cmd-item {
            margin-bottom: 15px;
            border-bottom: 1px solid #1a1a1a;
            padding-bottom: 10px;
        }

        .cmd-desc {
            font-size: 0.85rem;
            color: #888;
            margin-bottom: 4px;
            font-weight: bold;
            letter-spacing: 0.5px;
        }

        .code-block {
            background: #000;
            padding: 8px 12px;
            border: 1px solid #333;
            color: var(--neon-yellow);
            font-size: 0.8rem;
            cursor: pointer;
            position: relative;
            display: block;
            word-wrap: break-word;
            font-family: 'Roboto Mono', monospace;
            transition: border-color 0.2s;
        }

        .code-block:hover {
            border-color: var(--neon-yellow);
            background: #0f0f0f;
        }

        .code-block::after {
            content: '[COPY]';
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.6rem;
            color: var(--neon-blue);
            opacity: 0;
            transition: opacity 0.2s;
        }

        .code-block:hover::after {
            opacity: 1;
        }

        /* --- Animations --- */
        @keyframes glitch-anim { 0% { clip: rect(20px, 9999px, 80px, 0); } 20% { clip: rect(60px, 9999px, 10px, 0); } 40% { clip: rect(100px, 9999px, 120px, 0); } 60% { clip: rect(10px, 9999px, 60px, 0); } 80% { clip: rect(50px, 9999px, 90px, 0); } 100% { clip: rect(30px, 9999px, 110px, 0); } }
        @keyframes glitch-anim-2 { 0% { clip: rect(120px, 9999px, 10px, 0); } 20% { clip: rect(10px, 9999px, 60px, 0); } 40% { clip: rect(50px, 9999px, 90px, 0); } 60% { clip: rect(100px, 9999px, 120px, 0); } 80% { clip: rect(20px, 9999px, 80px, 0); } 100% { clip: rect(60px, 9999px, 100px, 0); } }
        @keyframes scanline { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

        /* Toast */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: var(--neon-green);
            color: #000;
            text-align: center;
            border-radius: 2px;
            padding: 16px;
            position: fixed;
            z-index: 100;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
            box-shadow: 0 0 20px var(--neon-green);
        }
        #toast.show { visibility: visible; animation: fadein 0.5s, fadeout 0.5s 2.5s; }
        @keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
        @keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }

        /* --- PRINT STYLES --- */
        @media print {
            body { background: white; color: black; background-image: none; }
            header { border-bottom: 2px solid #000; box-shadow: none; }
            h1 { color: #000; text-shadow: none; }
            h1::before, h1::after { display: none; }
            .filters, .export-btn, #toast, .card::before { display: none !important; }
            .container { display: block; column-count: 2; gap: 15px; }
            .card {
                background: #fff; border: 1px solid #000; border-left: 5px solid #000 !important;
                box-shadow: none; margin-bottom: 20px; break-inside: avoid;
                max-height: none; /* Expand full height for print */
                display: block;
            }
            .cmd-list { overflow-y: visible; max-height: none; } /* Show all commands */
            .card h3 { color: #000 !important; border-bottom: 1px solid #ccc; padding-bottom: 5px; }
            .card h3 span { color: #000; border-color: #000; }
            .code-block { background: #f4f4f4; color: #000; border: 1px solid #ccc; font-size: 7pt; padding: 4px; }
            .cmd-desc { color: #333; font-size: 8pt; }
            .code-block::after { display: none; }
            .cmd-item { border-bottom: 1px dotted #ccc; margin-bottom: 8px; padding-bottom: 4px; }
        }

        @media screen and (max-width: 768px) {
            .header-top { flex-direction: column; align-items: center; }
            .export-btn { position: static; margin-top: 15px; transform: none; }
            h1 { font-size: 2rem; }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-top">
            <h1 data-text="MLOps_NEXUS">MLOps_NEXUS</h1>
            <button class="export-btn" onclick="exportPDF()">[ PDF_EXPORT ]</button>
        </div>
        <p style="color: var(--neon-pink); margin-top: 10px;">>> DATABASE EXPANDED // V3.0 FULL STACK</p>
    </header>

    <div class="filters">
        <button class="filter-btn active" onclick="filterSelection('all')">ALL</button>
        <button class="filter-btn" onclick="filterSelection('container')">CONTAINERS</button>
        <button class="filter-btn" onclick="filterSelection('serving')">SERVING</button>
        <button class="filter-btn" onclick="filterSelection('ops')">OPS</button>
        <button class="filter-btn" onclick="filterSelection('python-ml')">PYTHON</button>
        <button class="filter-btn" onclick="filterSelection('scripting')">BASH</button>
    </div>

    <div class="container">

        <div class="card container-cat">
            <h3>DOCKER <span>CONTAINER</span></h3>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Build sans cache (Debug)</div><code class="code-block">docker build --no-cache -t img:v1 .</code></li>
                <li class="cmd-item"><div class="cmd-desc">Run interactif GPU</div><code class="code-block">docker run --gpus all -it --rm img:v1</code></li>
                <li class="cmd-item"><div class="cmd-desc">Stats (CPU/RAM live)</div><code class="code-block">docker stats</code></li>
                <li class="cmd-item"><div class="cmd-desc">Nettoyage radical</div><code class="code-block">docker system prune -a --volumes</code></li>
                <li class="cmd-item"><div class="cmd-desc">Voir IP d'un container</div><code class="code-block">docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' [id]</code></li>
                <li class="cmd-item"><div class="cmd-desc">Exec en root</div><code class="code-block">docker exec -u 0 -it [container] bash</code></li>
                <li class="cmd-item"><div class="cmd-desc">Logs avec timestamp</div><code class="code-block">docker logs -t --tail 100 [container]</code></li>
                <li class="cmd-item"><div class="cmd-desc">Créer image depuis container</div><code class="code-block">docker commit [container_id] my-backup:v1</code></li>
                <li class="cmd-item"><div class="cmd-desc">Sauvegarder image en tar</div><code class="code-block">docker save -o image.tar my-image:v1</code></li>
                <li class="cmd-item"><div class="cmd-desc">Lister volumes orphelins</div><code class="code-block">docker volume ls -qf dangling=true</code></li>
                <li class="cmd-item"><div class="cmd-desc">Créer réseau bridge</div><code class="code-block">docker network create ml-net</code></li>
                <li class="cmd-item"><div class="cmd-desc">Copier fichier Host->Container</div><code class="code-block">docker cp ./model.bin [id]:/app/models/</code></li>
            </ul>
        </div>

        <div class="card container-cat">
            <h3>KUBERNETES <span>K8S</span></h3>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Get Pods (Tous namespaces)</div><code class="code-block">kubectl get pods -A</code></li>
                <li class="cmd-item"><div class="cmd-desc">Describe (Debug Crash)</div><code class="code-block">kubectl describe pod [pod-name]</code></li>
                <li class="cmd-item"><div class="cmd-desc">Logs précédent (CrashLoop)</div><code class="code-block">kubectl logs [pod] --previous</code></li>
                <li class="cmd-item"><div class="cmd-desc">Events (Pourquoi ça plante ?)</div><code class="code-block">kubectl get events --sort-by=.metadata.creationTimestamp</code></li>
                <li class="cmd-item"><div class="cmd-desc">Utilisation Node (CPU/RAM)</div><code class="code-block">kubectl top nodes</code></li>
                <li class="cmd-item"><div class="cmd-desc">Utilisation Pods</div><code class="code-block">kubectl top pods -n my-ns</code></li>
                <li class="cmd-item"><div class="cmd-desc">Port Forward (Bg)</div><code class="code-block">kubectl port-forward svc/ml-api 8000:80 &</code></li>
                <li class="cmd-item"><div class="cmd-desc">Changer image live</div><code class="code-block">kubectl set image deployment/myapp container=img:v2</code></li>
                <li class="cmd-item"><div class="cmd-desc">Supprimer pods 'Evicted'</div><code class="code-block">kubectl delete pods --field-selector=status.phase=Failed -A</code></li>
                <li class="cmd-item"><div class="cmd-desc">Check Permissions (RBAC)</div><code class="code-block">kubectl auth can-i create pods --as system:serviceaccount:ns:sa</code></li>
                <li class="cmd-item"><div class="cmd-desc">Expliquer ressource</div><code class="code-block">kubectl explain deployment.spec.strategy</code></li>
                <li class="cmd-item"><div class="cmd-desc">Scaler deployment</div><code class="code-block">kubectl scale --replicas=3 deployment/my-app</code></li>
                <li class="cmd-item"><div class="cmd-desc">Exec shell rapide</div><code class="code-block">kubectl exec -it [pod] -- /bin/bash</code></li>
            </ul>
        </div>

        <div class="card container-cat">
            <h3>OPENSHIFT <span>OCP</span></h3>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Status du projet</div><code class="code-block">oc status</code></li>
                <li class="cmd-item"><div class="cmd-desc">Créer App depuis Git</div><code class="code-block">oc new-app https://github.com/org/repo --name=ml-api</code></li>
                <li class="cmd-item"><div class="cmd-desc">Logs du Build</div><code class="code-block">oc logs -f bc/ml-api</code></li>
                <li class="cmd-item"><div class="cmd-desc">Start Build manuellement</div><code class="code-block">oc start-build ml-api --follow</code></li>
                <li class="cmd-item"><div class="cmd-desc">Extraire un Secret</div><code class="code-block">oc extract secret/db-creds --to=.</code></li>
                <li class="cmd-item"><div class="cmd-desc">Debug Node (Admin)</div><code class="code-block">oc debug node/[node-name]</code></li>
                <li class="cmd-item"><div class="cmd-desc">Liste ImageStreams</div><code class="code-block">oc get is</code></li>
                <li class="cmd-item"><div class="cmd-desc">Ajouter droits Admin</div><code class="code-block">oc adm policy add-role-to-user admin user1 -n project</code></li>
                <li class="cmd-item"><div class="cmd-desc">Login avec Token</div><code class="code-block">oc login --token=sha256~... --server=https://api.ocp.domain:6443</code></li>
                <li class="cmd-item"><div class="cmd-desc">Port-forward route</div><code class="code-block">oc port-forward deployment/frontend 8080:8080</code></li>
                <li class="cmd-item"><div class="cmd-desc">Idle (Pause) app</div><code class="code-block">oc idle [service-name]</code></li>
            </ul>
        </div>

        <div class="card python-ml">
            <h3>PANDAS <span>DATA</span></h3>
            <ul class="cmd-list">
                <li class="cmd-item"><div class="cmd-desc">Read Parquet (Optimisé)</div><code class="code-block">df = pd.read_parquet('data.parquet', columns=['a', 'b'])</code></li>
                <li class="cmd-item"><div class="cmd-desc">Profile Mémoire</div><code class="code-block">df.info(memory_usage='deep')</code></li>
                <li class="cmd-item"><div class="cmd-desc">Optimiser Types</div><code class="code-block">df['cat'] = df['cat'].astype('category')</code></li>
                <li class="cmd-item"><div class="cmd-desc">Value Counts %</div><code class="code-block">df['col'].value_counts(normalize=True)</code></li>
                <li class="cmd-item"><div class="cmd-desc">Query (SQL-like)</div><code class="code-block">df.query('score > 0.5 and group == "A"')</code></li>
                <li class="cmd-item"><div class="cmd-desc">Groupby Agg</div><code class="code-block">df.groupby('id').agg({'val': ['mean', 'max']})</code></li>
                <li class="cmd-item"><div class="cmd-desc">Melt (Wide to Long)</div><code class="code-block">pd.melt(df, id_vars=['id'], value_vars=['A', 'B'])</code></li>
                <li class="cmd-item"><div class="cmd-desc">Explode (Listes)</div><code class="code-block">df.explode('list_col')</code></li>
                <li class="cmd-item"
